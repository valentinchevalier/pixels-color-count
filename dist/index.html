<!DOCTYPE html>
<html>

<head>
  <meta charset="UTF-8">
  <title>Analyse Pixels</title>
  <link rel="stylesheet" href="app.bundle.css" type="text/css" media="all">
  <link rel="manifest" href="/manifest.json">
  <script async>
    if ('serviceWorker' in navigator) {
      window.addEventListener('load', () => {
        navigator.serviceWorker.register('/sw.js');
      });
    }
  </script>
</head>

<body>
  <div class="wrapper">
    <h2 class="text-center mb-5">Analyse des couleurs d'une image</h2>
    <form id="analyseForm">
      <div class="form-group">
        <div class="custom-file">
          <input type="file" name="upload-image" id="uploadImage" accept="image/*" class="custom-file-input" required>
          <label class="custom-file-label" for="uploadImage">Choisissez une image...</label>
        </div>
      </div>
      <div class="image-container hidden text-center">
        <img src="" alt="" id="display-image">
        <div class="progress-scan"></div>
      </div>
      <p class="mt-4 text-center" id="size-block"></p>

      <div class="form-group">
        <label for="threshold">Seuil de similarité</label>
        <div class="input-group">
          <input type="number" class="form-control" id="threshold" aria-describedby="thresholdHelp" placeholder="Seuil de similarité" value="90" required>
          <div class="input-group-append">
            <span class="input-group-text" id="basic-addon1">%</span>
          </div>
        </div>
        <small id="thresholdHelp" class="form-text text-muted">Groupe les couleurs qui sont similaires à X %.</small>
      </div>
      <button type="submit" class="btn btn-primary">Lancer l'analyse</button>
    </form>

    <div class="loader-container text-center mt-5">
      <div class="progress mb-4">
        <div class="progress-bar" id="progressBar" role="progressbar" aria-valuemin="0" aria-valuemax="100"></div>
      </div>
      <span class="label">Analyse en cours...</span>
    </div>
    <p id="time-block"></p>
  </div>

  <ul class="resultats"></ul>

  <div class="analyse-container">
    <img src="" alt="" id="analyse-image">
    <canvas id="canvas"></canvas>
  </div>

  <script src="app.bundle.js"></script>
</body>

</html>
